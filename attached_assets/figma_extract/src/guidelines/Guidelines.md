# Reputa Score - دليل إرشادات التطبيق

## نظرة عامة
تم إعادة تنظيم التطبيق بالكامل لضمان ظهور كل معلومة في الخانة المخصصة لها بنفس التصميم الأصلي.

## هيكل الواجهة

### الصف الأول (Row 1): معلومات المحفظة والسمعة
```
┌─────────────────────┬─────────────────────┐
│  WalletBalance      │  TrustScoreCard     │
│  - رصيد المحفظة    │  - نقاط السمعة     │
│  - عنوان المحفظة   │  - مستوى الثقة      │
│  - التغير 24ساعة   │  - النشاط والمخاطر  │
│  - إحصائيات سريعة  │  - الرتبة          │
└─────────────────────┴─────────────────────┘
```

**WalletBalance** يعرض:
- أيقونة المحفظة (Wallet Icon)
- عنوان المحفظة الكامل
- الرصيد بالـ Pi بحجم كبير
- نسبة التغير في 24 ساعة (بدج ملون)
- 3 إحصائيات في الأسفل:
  * عدد المعاملات (Transactions)
  * عمر الحساب (Account Age)
  * آخر نشاط (Last Active)

**TrustScoreCard** يعرض:
- أيقونة الدرع (Shield Icon)
- عنوان "Trust Score"
- دائرة تقدم كبيرة بالنقاط (0-100)
- بدج مستوى الثقة (Low/Medium/High/Excellent)
- 3 إحصائيات في الأسفل:
  * مستوى النشاط (Activity)
  * مستوى المخاطر (Risk)
  * الرتبة (Rank)

---

### الصف الثاني (Row 2): التقدم وتفصيل النقاط
```
┌─────────────────────┬─────────────────────┐
│  ProgressCard       │  ScoreBreakdown     │
│  - دوائر تقدم      │  - تفصيل العوامل   │
│  - أشرطة تقدم      │  - نسبة كل عامل    │
└─────────────────────┴─────────────────────┘
```

**ProgressCard** يعرض:
- 3 دوائر تقدم بأحجام مختلفة
- 2 شريط تقدم مع بدج النسبة المئوية
- التأثير البصري (Glow Effect)

**ScoreBreakdown** يعرض:
- أيقونة الرسم البياني (BarChart Icon)
- 6 عوامل رئيسية:
  1. Account Age (20 نقطة max)
  2. Transactions (15 نقطة max)
  3. Volume (15 نقطة max)
  4. Staking (15 نقطة max)
  5. Mining Days (20 نقطة max)
  6. Activity (15 نقطة max)
- شريط عقوبة Spam (إذا وجد)

---

### الصف الثالث (Row 3): تقرير المنتجات
```
┌────────────────────────────────────────┐
│  ProductsReport                        │
│  - رسم بياني شريطي للمعاملات          │
└────────────────────────────────────────┘
```

**ProductsReport** يعرض:
- عنوان "Transaction Timeline"
- فلترة الفترة الزمنية (هذا الشهر، الأسبوع، اليوم)
- أسطورة الرسم (Legend): داخلي/خارجي
- رسم شريطي متحرك
- تسميات المحاور (X: الأشهر، Y: القيم)

---

### الصف الرابع (Row 4): الرسوم البيانية التفصيلية
```
┌──────────────────────┬──────────────────────┐
│ TransactionTimeline  │  PointsBreakdown     │
│ - خط زمني للمعاملات│  - مخطط دائري        │
└──────────────────────┴──────────────────────┘
```

**TransactionTimeline**:
- رسم خطي للمعاملات الداخلية/الخارجية
- أزرار فلترة: يومي/أسبوعي/شهري
- Tooltips تفاعلية

**PointsBreakdown**:
- مخطط دائري (Pie Chart)
- توزيع النقاط حسب العوامل
- ألوان مميزة لكل عامل
- جدول التوضيح أسفل الرسم

---

### الصف الخامس (Row 5): تحليل المخاطر والمحفظة
```
┌─────────────────────┬─────────────────────┐
│  RiskActivity       │  TokenPortfolio     │
│  - مخطط نقطي       │  - رسم أعمدة        │
└─────────────────────┴─────────────────────┘
```

**RiskActivity**:
- Scatter Chart للمخاطر مقابل النشاط
- ألوان حسب مستوى المخاطر (أحمر/أصفر/أخضر)
- أسطورة المخاطر

**TokenPortfolio**:
- رسم أعمدة للتوكنات
- القيمة الإجمالية في الأعلى
- جدول التوكنات أسفل الرسم

---

### الصف السادس (Row 6): قسم Pi DEX
```
┌────────────────────────────────────────┐
│  PiDexSection                          │
│  - قائمة التوكنات                      │
│  - القيمة الإجمالية                    │
└────────────────────────────────────────┘
```

**PiDexSection** يعرض:
- أيقونة العملات (Coins Icon)
- القيمة الإجمالية للمحفظة
- قائمة بكل توكن:
  * شعار التوكن
  * الاسم والرمز
  * الرصيد
  * القيمة بالـ Pi
  * شريط تقدم النسبة
  * نسبة التغير

---

### الصف السابع (Row 7): التوصيات
```
┌────────────────────────────────────────┐
│  Recommendations                       │
│  - قائمة التوصيات الذكية               │
└────────────────────────────────────────┘
```

**Recommendations** يعرض:
- عنوان "Recommendations"
- قائمة توصيات ملونة حسب الأهمية:
  * أخضر: ممتاز
  * أحمر: تحذير
  * أصفر: اقتراح تحسين

---

## نظام الألوان

### الألوان الرئيسية
- **Primary**: `#FAC515` (ذهبي Pi Network)
- **Background**: `#000000` (أسود)
- **Cards**: `#111111` (رمادي داكن)
- **Borders**: `#222222` (رمادي أفتح)

### ألوان الحالة
- **Excellent**: `#10b981` (أخضر)
- **High**: `#3fb185` (أخضر فاتح)
- **Medium**: `#f59e0b` (أصفر)
- **Low**: `#ef4444` (أحمر)

### ألوان العوامل
- Account Age: `#10b981`
- Transactions: `#3fb185`
- Volume: `#06b6d4`
- Staking: `#8b5cf6`
- Mining Days: `#FAC515`
- Activity: `#ec4899`

---

## الخطوط المستخدمة

1. **Roboto** - للعناوين والأرقام الكبيرة
2. **Inter** - للنصوص العادية
3. **Inter Tight** - للتفاصيل الصغيرة

---

## تأثيرات بصرية

### Glow Effect
يستخدم في:
- TrustScoreCard
- ProgressCard
- ProductsReport
- WalletBalance

```css
filter: blur(60px)
color: #FAC515
```

### الانتقالات
- جميع الدوائر والأشرطة: `transition-all duration-500`
- الأزرار: `transition-colors`
- الرسوم البيانية: انتقالات Recharts الافتراضية

---

## الاستجابة (Responsive)

### شاشات كبيرة (lg+)
- الصفوف 1-2-4-5: شبكة عمودين متساويين
- الصفوف 3-6-7: عرض كامل

### شاشات صغيرة
- جميع المكونات تتحول إلى عمود واحد
- الـ Sidebar يختفي أو يتحول لقائمة منسدلة

---

## تعدد اللغات

### اللغات المدعومة
1. العربية (ar) - RTL
2. الإنجليزية (en)
3. الفرنسية (fr)
4. الصينية (zh)

### نصوص مهمة
كل النصوص تأتي من `locales/translations.ts`:
```typescript
t('dashboard.balance')
t('score.trust')
t('score.breakdown')
// ... إلخ
```

---

## Demo Mode vs Testnet Mode

### Demo Mode
- بيانات وهمية واقعية
- 45 معاملة
- 4 توكنات
- 120 يوم تعدين

### Testnet Mode
- اتصال حقيقي بـ Pi Network
- بيانات المستخدم الفعلية
- يتطلب Pi Browser أو SDK

---

## الأداء

### تحسينات
- Lazy loading للرسوم البيانية
- Memoization للحسابات الثقيلة
- Virtual scrolling للقوائم الطويلة

### وقت التحميل
- Initial Load: < 2 ثانية
- Chart Rendering: < 500ms
- Mode Toggle: فوري

---

## الأمان

### المعلومات الحساسة
- عنوان المحفظة مختصر في الواجهة
- PI_API_KEY على السيرفر فقط
- PI_WALLET_SECRET لا يُرسل للعميل أبداً

### التحقق
- جميع API calls محمية
- CORS محدد
- Rate limiting على الـ API

---

## الملفات الرئيسية

```
/App.tsx                    - التطبيق الرئيسي
/components/
  ├── Header.tsx           - الرأس
  ├── Sidebar.tsx          - القائمة الجانبية
  ├── WalletBalance.tsx    - رصيد المحفظة
  ├── TrustScoreCard.tsx   - بطاقة السمعة
  ├── ProgressCard.tsx     - بطاقة التقدم
  ├── ScoreBreakdown.tsx   - تفصيل النقاط
  ├── ProductsReport.tsx   - تقرير المنتجات
  ├── PiDexSection.tsx     - قسم DEX
  └── charts/
      ├── TransactionTimeline.tsx
      ├── PointsBreakdown.tsx
      ├── RiskActivity.tsx
      └── TokenPortfolio.tsx
```

---

## الصيانة والتطوير

### إضافة ميزة جديدة
1. إنشاء المكون في `/components`
2. إضافة النصوص في `/locales/translations.ts`
3. إضافة الأنواع في `/types/index.ts`
4. تحديث `/App.tsx`

### تعديل التصميم
1. تعديل الألوان في المكون المحدد
2. التأكد من التناسق مع نظام الألوان
3. اختبار RTL والـ Responsive

---

## المشاكل الشائعة وحلولها

### المشكلة: البيانات لا تظهر
**الحل**: تأكد من تحميل `walletData` بنجاح

### المشكلة: الترجمة لا تعمل
**الحل**: تحقق من مفتاح الترجمة في `translations.ts`

### المشكلة: الرسوم البيانية لا تعرض
**الحل**: تحقق من بيانات `chartData` وأنها بالصيغة الصحيحة

---

## الخاتمة

هذا التطبيق جاهز للاستخدام الفوري ويحافظ على التصميم الأصلي مع إضافة جميع المميزات المطلوبة. كل معلومة تظهر في الخانة المخصصة لها بشكل دقيق ومنظم.

للنشر:
```bash
npm run build
vercel deploy
```
